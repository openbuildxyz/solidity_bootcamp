# LotLoot Product Design
一.引言
>1.1 编写目的
- 目的在于:
  1. 为编码人员提供依据；
  1. 为修改、维护提供条件；
  1. 项目负责人将按照计划书的要求布置和控制开发工作全过程；
  1. 项目质量保证组将按照此计划书做阶段性和总结性的质量验证和确认。
- 预期读者:
  1. 项目开发人员；
  1. 软件维护人员；
  1. 参与本项目开发进程各阶段验证、确认以及负责为最后项目验收、鉴定提供相应报告的有关人员；
  1. 本次以太坊杭州黑客松赛事团队、评委。
>1.2 背景
  1. 系统名称：LotLoot；
  1. 开发者：WeDao团队。
>1.3 定义
  - 基于区块链技术的社交抢车位游戏

二.系统架构
>2.1 程序系统架构
  1. 用户界面(UI)：这是玩家与游戏交互的界面。它应该包括一个主页，显示游戏的总体情况，个人车位，和附近的车位。此外，还应该有一个菜单，允许玩家登录/注册，开始游戏，查看排名等。
  1. 用户接口(UI)与游戏逻辑接口：这个部分负责处理UI与游戏核心逻辑之间的交互。它接收玩家的输入，并将其传递给游戏逻辑进行处理，然后返回结果给UI以显示给玩家。
  1. 游戏逻辑：这是游戏的主体部分，包括但不限于停车，抢车位，升级车辆，获取奖励等游戏的各类核心功能。
  1. 数据库：这部分负责存储游戏的所有持久性数据，包括但不限于玩家的信息（级别，得分，车辆等），车位信息（位置，等级，奖励等），游戏事件等。
  1. 服务器：这部分负责处理所有的游戏运算，包括但不限于车辆的移动，碰撞检测，计分等。抢车位游戏可能需要一个实时更新的服务器，以允许玩家在任何地方都能参与游戏。
  1. 网络接口：这部分负责处理与其他玩家的连接，允许他们在游戏中互动。可能需要使用一些网络库或协议来实现。
>2.2 系统流程
  1. 用户登录：用户输入他们的详细信息（如用户名和密码），然后系统验证这些信息是否正确。如果正确，那么用户将被允许进入游戏。
  1. 游戏初始化：在每一局游戏开始时，系统会为玩家创建一个新的车位，并且为其他游戏元素（如其他玩家的车辆）进行初始化。
  1. 玩家操作：玩家可以操作他们的车辆在游戏中移动，寻找车位，如果找到一个车位，他们可以尝试占领它。
  1. 车位判断：当一个玩家尝试占领一个车位时，系统会进行判断。如果车位是空的，或者玩家已经拥有了足够的空间来停放他们的车辆（这取决于游戏的具体规则），那么他们将成功占领车位。否则，他们将失败，并且需要尝试寻找另一个车位。
  1. 游戏更新：在每一个特定的时间间隔（例如，每分钟），系统将会更新游戏状态。这可能包括增加新的车位，奖励，或者对玩家的行为进行评分。
  1. 得分和排名：根据玩家的行为（例如，占领的车位数，或者获得的奖励），系统将为玩家计算得分。这可以在游戏内排行榜上显示出来。
  1. 玩家退出：如果玩家决定退出游戏，那么他们可以选择退出，然后系统将会保存他们的游戏状态，以供下次他们再次玩游戏时使用。
>2.3 用户角色描述
>>2.3.1 停放车位
  1. 用户可以选择自己车辆的停放位置，收益根据车辆和车位品质有关；
  1. 只有车辆在停车位上时才会获得收益。
>>2.3.2 车位收费
  1. 发现自己车位停放其余车辆时，进行贴罚单操作，获取他人的部分收益；
>2.4 系统功能描述
>>2.4.1 车位竞争
  1. 用户根据mint的车辆数量，选择停放车位，每位用户可以停放一辆车在自己的车位产生收益，多余车辆需要占用他人车位；
  1. 每辆车只有在车位上才可以产生收益，用户可以在自己的车位为其余车辆贴罚单，从而获取该车辆在本车位获得的部分收益分成；
  1. 根据先来后到原则，用户无法占领除自己以外的正在使用中的车位。
>>2.4.2 代币收益
  1. 用户在LotLoot中的资产分为：车辆价值、车位价值以及车辆停放产生收益；
  1. 游戏代币LLT为链上资产，打通以太坊生态，用户可以随时进行提现；
  1. 停车产生收益最多时间为24h，逾期需要用户重新停放。
>>2.4.3 资产升级
  1. 车辆和车位收益与NFT自身收益有关，根据使用时间也会有消耗；
  1. LLT（LotLoot流通代币）可以对车辆车位进行升级，代币销毁，增加玩法多样性。
>>2.5 资产代入
  1. NFT：玩家mint该游戏的NFT，作为自己游戏中的车辆，从而进行获取LLT的操作；
  1. Token：游戏中的收益为LLT，随时可以在链上进行资产交易；主页面会展示玩家Token，并根据持有量在好友列表中进行排行。

三.设计说明
>3.1 概述
- &emsp; LotLoot是一个基于区块链技术的社交抢车位游戏，让玩家可以通过社交账号登录，拥有多辆车和5个车位，并与其他玩家互动，以获得代币收益。该游戏充分利用区块链技术的特性，实现了去中心化、透明度和安全性，给玩家提供一种新颖的游戏体验。
>3.2 游戏特点概述：
### 1. **互操作性 (Interoperability)**:
- 通过支持ERC-6551标准，游戏允许玩家将其持有的任意NFT (非同质化代币)带入游戏，并以此作为车手参与游戏。这为玩家提供了独特的个性化体验和资产价值的延伸。
### 2. **人性博弈 (Human Game Theory)**:
- 通过车库管理和罚单机制，游戏引导玩家在追求个人收益最大化的同时，必须精准判断何时发放罚单以获得最佳收益，增加了游戏的策略性和吸引力。
### 3. **全链游戏 (On-chain Gaming)**:
- 游戏基于区块链技术，形成一个永续的、正和博弈的游戏环境，保障了游戏的公正性、透明性和持续发展可能性。
### 4. **代币经济学 (Token Economics)**:
- 游戏的代币产出主要依赖于玩家的停车收益，而代币的主要消耗则来自于车辆的升级，其中升级的代币消耗为指数增长，形成了一个可持续发展的经济系统。
### 5. **社交属性 (Social Attributes)**:
- 通过与Twitter账户的绑定，玩家可以拥有自己的车库，并在社交媒体上与其他玩家互动和交流，增加了游戏的社交性和宣传度。
### 6. **社交分享 (Social Sharing)**:
- 当玩家的车辆成功离开车位或被贴罚单时，系统会提供一个选项让玩家在Twitter上分享这一消息，增强了游戏的社交分享和传播效果。
### 7. **车辆部件组合 (Vehicle Part Combinations)**:
- 未来游戏将推出多种车辆配件(NFT)，玩家可以通过组合不同的配件来提升车辆的属性和收益能力，为游戏增加了更多的策略和可玩性。
### 8. **车队 (Fleet)**:
- 当玩家带入相同Collection的NFT时，整体车队的车辆会获得属性加成（例如提高收益），鼓励玩家集结和合作，形成了团队合作的机制。
### 9. **车队质押 (Fleet Stake)**:
- 游戏设有质押机制，车辆产生的Token的5%会流入车队金库。玩家需要质押Token来获得这部分收益，形成了一个激励玩家参与和投资的机制。
>3.3 技术实现
  1. 区块链技术
  &emsp;<br/> LotLoot游戏基于区块链技术实现，确保了数据的不可算改性和透明性。所有游戏内的交易记录都被存储在区块链上，可供所有玩家查看。这使得玩家能够验证游戏内交易的公正性，保障了游戏的公平性。
  1. 智能合约
  &emsp;<br/> LotLoot游戏内所有的交互和规则都由智能合约来实现。智能合约是运行在区块链上的计算机程序，可以自动执行预定的任务，从而确保了游戏的规则性和公正性。
  1. 社交互动
    &emsp;<br/> 游戏为玩家提供了与其他玩家的互动机会。玩家可以查看其他玩家的车和车位，进行抢车位等操作，增加了游戏的趣味性和互动性。
>3.4 玩家的权利和义务
  1. 拥有车辆和车位
  &emsp;<br/>每个玩家在游戏中都有多辆车和5个车位。玩家可以自由地使用和处置这些车辆和车位。
  1. 交互和竞争
  &emsp;<br/>玩家可以通过与其他玩家的社交互动来获得收益。例如，当一个玩家成功地将自己的车停放在另一个玩家的车位上时，他将获得一定的代币奖励。
  1. 维护网络
  &emsp;<br/>作为区块链游戏的一部分，玩家也有义务帮助维护网络的安全和正常运行。例如，通过参与新区块的验证和打包，以确保区块链的稳定性和安全性。
>3.5 安全性说明
- &emsp;由于LotLoot游戏基于区块链技术，因此具有较高的安全性。数据不可算改的性质使得玩家的权益得到保护。同时，智能合约的运用也避免了人为错误或作弊的可能性。然而，玩家仍需注意保护自己的账号和个人信息，以防止被黑客攻击或被其他玩家欺诈。
>3.6 未来发展计划
- &emsp;LotLoot计划在未来继续拓展和完善游戏的功能。例如，增加更多的车辆种类、车位类型和游戏模式;优化用户体验，提升游戏的流畅度和稳定性;加强安全措施，防范日益复杂的网络攻击等。此外，LotLoot还计划通过定期举办比赛和活动，增加游戏的趣味性和可玩性。
